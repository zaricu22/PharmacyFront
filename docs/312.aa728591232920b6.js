"use strict";(self.webpackChunkPharmacyFront=self.webpackChunkPharmacyFront||[]).push([[312],{8312:(I,l,n)=>{n.r(l),n.d(l,{ProductEditComponent:()=>U});var D=n(5592),g=n(7394),p=n(2939),s=n(6814),o=n(6223),u=n(9157),h=n(617),c=n(8034),E=n(8525),P=n(2032),_=n(5195),M=n(2296),m=n(1919),t=n(5879),C=n(4356),T=n(7093),O=n(1896),v=n(3680);function A(d,f){if(1&d&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&d){const e=f.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Z(d,f){if(1&d){const e=t.EpF();t.TgZ(0,"div")(1,"mat-list",5)(2,"mat-list-item",6)(3,"mat-form-field",7)(4,"mat-label"),t._uU(5,"Enter drug name"),t.qZA(),t.TgZ(6,"input",8),t.NdJ("ngModelChange",function(r){t.CHM(e);const i=t.oxw();return t.KtG(i.editedProduct.name=r)}),t.qZA(),t.TgZ(7,"mat-icon",9),t._uU(8,"local_pharmacy"),t.qZA(),t.TgZ(9,"mat-hint"),t._uU(10,"Hint"),t.qZA()()(),t.TgZ(11,"mat-list-item",6)(12,"mat-form-field",7)(13,"mat-label"),t._uU(14,"Enter drug price"),t.qZA(),t.TgZ(15,"input",10),t.NdJ("ngModelChange",function(r){t.CHM(e);const i=t.oxw();return t.KtG(i.editedProduct.price=r)}),t.qZA(),t.TgZ(16,"mat-icon",9),t._uU(17,"euro_symbol"),t.qZA(),t.TgZ(18,"mat-hint"),t._uU(19,"Hint"),t.qZA()()(),t.TgZ(20,"mat-list-item",6)(21,"mat-form-field")(22,"mat-label"),t._uU(23,"Choose expiry date"),t.qZA(),t.TgZ(24,"input",11),t.NdJ("ngModelChange",function(r){t.CHM(e);const i=t.oxw();return t.KtG(i.editedProduct.expiryDate=r)}),t.qZA(),t.TgZ(25,"mat-hint"),t._uU(26,"MM/DD/YYYY"),t.qZA(),t._UZ(27,"mat-datepicker-toggle",12)(28,"mat-datepicker",null,13),t.qZA()(),t.TgZ(30,"mat-list-item",6)(31,"mat-form-field")(32,"mat-label"),t._uU(33,"Choose manufacturer"),t.qZA(),t.TgZ(34,"mat-select",14),t.NdJ("ngModelChange",function(r){t.CHM(e);const i=t.oxw();return t.KtG(i.editedProduct.manufacturer.id=r)}),t.YNc(35,A,2,2,"mat-option",15),t.qZA()()()()()}if(2&d){const e=t.MAs(29),a=t.oxw();t.xp6(6),t.Q6J("ngModel",a.editedProduct.name),t.xp6(9),t.Q6J("ngModel",a.editedProduct.price),t.xp6(9),t.Q6J("matDatepicker",e)("ngModel",a.editedProduct.expiryDate),t.xp6(3),t.Q6J("for",e),t.xp6(7),t.Q6J("ngModel",a.editedProduct.manufacturer.id),t.xp6(1),t.Q6J("ngForOf",a.manus)}}let U=(()=>{class d{constructor(e,a,r,i){this.manuService=e,this.prodService=a,this._snackBar=r,this.route=i,this.productId="",this.fetchedProduct$=new D.y,this.editedProduct=null,this.name="",this.price=0,this.date=new Date,this.manufacturer="",this.manus=[],this.subscription1=new g.w0,this.subscription2=new g.w0,this.route.queryParams.subscribe(x=>{this.productId=x.productId})}ngOnInit(){this.subscription1=this.manuService.getManuList().subscribe(e=>{this.manus=e}),this.fetchedProduct$=this.prodService.getProdById(this.productId),this.fetchedProduct$.subscribe(e=>{this.editedProduct=e})}ngOnDestroy(){this.subscription1.unsubscribe(),this.subscription2.unsubscribe()}onSubmit(){this.subscription1=this.prodService.updateProd(this.productId,this.editedProduct).subscribe(e=>{this.openSnackBar("Successfully added product!","OK")})}openSnackBar(e,a){this._snackBar.open(e,a)}static#t=this.\u0275fac=function(a){return new(a||d)(t.Y36(C.r),t.Y36(T.M),t.Y36(p.ux),t.Y36(O.gz))};static#e=this.\u0275cmp=t.Xpm({type:d,selectors:[["app-product-edit"]],standalone:!0,features:[t.jDz],decls:14,vars:4,consts:[[2,"width","40%","top","50%","left","50%","-ms-transform","translate(-50%, -50%)","transform","translate(-50%, -50%)"],[3,"ngSubmit"],["myForm","ngForm"],[4,"ngIf"],["mat-button","","type","submit",3,"disabled"],["role","list",2,"text-align","center"],["role","listitem",2,"height","100px"],["appearance","outline"],["matInput","","type","text","name","name","required","",3,"ngModel","ngModelChange"],["matSuffix",""],["matInput","","type","number","name","price","min","1","required","",3,"ngModel","ngModelChange"],["matInput","","name","expiryDate","required","",3,"matDatepicker","ngModel","ngModelChange"],["matIconSuffix","",3,"for"],["picker",""],["name","manufacturer.id",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(a,r){if(1&a&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),t._uU(3,"Product Dialog"),t.qZA(),t.TgZ(4,"mat-card-subtitle"),t._uU(5,"Fill form"),t.qZA()(),t.TgZ(6,"form",1,2),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t.TgZ(8,"mat-card-content"),t.YNc(9,Z,36,7,"div",3),t.ALo(10,"async"),t.qZA(),t.TgZ(11,"mat-card-actions")(12,"button",4),t._uU(13,"Submit"),t.qZA()()()()),2&a){const i=t.MAs(7);t.xp6(9),t.Q6J("ngIf",t.lcZ(10,2,r.fetchedProduct$)),t.xp6(3),t.Q6J("disabled",!i.valid)}},dependencies:[s.ez,s.sg,s.O5,s.Ov,o.u5,o._Y,o.Fj,o.wV,o.JJ,o.JL,o.Q7,o.qQ,o.On,o.F,u.lN,u.KE,u.hX,u.bx,u.R9,h.Ps,h.Hw,c.FA,c.Mq,c.hl,c.nW,E.LD,E.gD,v.ey,P.c,P.Nt,_.QW,_.a8,_.hq,_.dn,_.dk,_.$j,_.n5,M.ot,M.lW,m.ie,m.i$,m.Tg,p.ZX]})}return d})()}}]);